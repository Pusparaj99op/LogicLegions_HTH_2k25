; PlatformIO Configuration for VitalCare Rural - Single ESP32 Complete System
; Combines Web Server, Sensors, and Communication

[env:esp32-complete]
platform = espressif32
board = esp32dev
framework = arduino

; Serial Monitor Settings
monitor_speed = 115200
monitor_port = COM3
upload_port = COM3

; Library Dependencies for Complete System
lib_deps = 
    ; Core WiFi and Web Server
    WiFi
    WebServer
    WiFiAP
    SPIFFS
    ArduinoJson @ ^6.21.3
    WebSocketsServer @ ^2.3.6
    ESPmDNS
    
    ; Sensor Libraries
    Wire
    SPI
    SD
    adafruit/Adafruit BMP085 Library @ ^1.2.2
    adafruit/Adafruit Unified Sensor @ ^1.1.13
    
    ; Communication Libraries
    SoftwareSerial
    
    ; Additional Utilities
    AsyncTCP @ ^1.1.1

; Build flags for complete system
build_flags = 
    -DCORE_DEBUG_LEVEL=3
    -DVITALCARE_COMPLETE_SYSTEM
    -DBOARD_HAS_PSRAM
    -DARDUINOJSON_ENABLE_STD_STRING
    -DARDUINOJSON_USE_DOUBLE=1

; Partition scheme for web files and data storage
board_build.partitions = huge_app.csv
board_build.filesystem = spiffs

; Upload settings
upload_protocol = esptool
upload_speed = 921600

; Monitor settings
monitor_filters = 
    esp32_exception_decoder
    time
    log2file

; Optional: Custom partitions for more SPIFFS space
; board_build.partitions = custom_partitions.csv
